<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HydroPump 3000 - Desenvolvimento</title>
    <link rel="stylesheet" href="./assets/css/style.css">
</head>

<body>

    <aside class="barra-lateral">
        <div class="marca">
            <div class="logo">HP</div>
            <h2>Desenvolvimento</h2>
            <p class="descricao">Saiba como foi o desenvolvimento do nosso Projeto.</p>
        </div>

        <nav class="menu">
            <a href="index.html">Início</a>
            <a href="desenvolvimento.html">Desenvolvimento</a>
            <a href="projeto.html">Projeto</a>
            <a href="equipe.html">Equipe</a>
            <a href="sobre.html">Sobre</a>
        </nav>
    </aside>

    <main class="conteudo">
        <h1>Desenvolvimento do robô bombeiro</h1>
        <p>Montagem mecânica, ligação elétrica, programação, testes e melhorias realizadas ao longo do projeto.</p>

        <h2>1. Passo a passo da montagem</h2>
        <p>As etapas abaixo descrevem a construção do robô:</p>
        <ul>
            <li>Montagem do chassi - Fixação das quatro rodas ao chassi, atentando ao alinhamento e altura em relação ao
                solo.</li>
            <li>Instalação dos motores e driver - Acoplamento dos motores DC às rodas e ligação aos drivers.</li>
            <li>Fixação dos sensores térmicos - Montagem dos sensores na parte frontal do robô, distribuídos em ângulos
                diferentes para detectar a direção do foco de calor.</li>
            <li>Ligação da bomba d’água ao reservatório - Instalação do reservatório, bomba e mangueira, direcionando o
                jato para a frente do robô.</li>
            <li>Ligações elétricas e testes - Conclusão da fiação entre microcontrolador, drivers, sensores e bomba.
            </li>
            <li>Programação do Arduino para leitura dos sensores e controle dos motores e bomba.</li>
            <li>Testes iniciais de movimentação e detecção de calor.</li>
            <li>Ajustes finos na lógica de navegação e acionamento da bomba.</li>
        </ul>

        <h2>Código-fonte principal</h2>
        <div class="bloco-codigo">
            <pre>// -------------- CÓDIGO --------------
                #define enA 10 // Enable1 L298 Pin enA 
                #define in1 9  // Motor1 L298 Pin in1
                #define in2 8  // Motor1 L298 Pin in2
                #define in3 7  // Motor2 L298 Pin in3
                #define in4 6  // Motor2 L298 Pin in4
                #define enB 5  // Enable2 L298 Pin enB 
                
                #define ir_R A0
                #define ir_F A1
                #define ir_L A2
                
                #define pump A5 // PINO DA BOMBA D'ÁGUA
                
                int Speed = 160;     
                int s2;             
                int threshold = 350;

                void setup() {
                  Serial.begin(9600);
                  Serial.println("--- INICIANDO ROBÔ DE COMBATE A INCÊNDIO SIMPLIFICADO ---");
                  Serial.println("Alvo: Detectar fogo frontal -> Avançar e Ligar Bomba.");
                
                  pinMode(enA, OUTPUT);
                  pinMode(in1, OUTPUT);
                  pinMode(in2, OUTPUT);
                  pinMode(in3, OUTPUT);
                  pinMode(in4, OUTPUT);
                  pinMode(enB, OUTPUT);
                
                  pinMode(ir_R, INPUT);
                  pinMode(ir_F, INPUT);
                  pinMode(ir_L, INPUT);
                
                  pinMode(pump, OUTPUT);
                  digitalWrite(pump, LOW); 
                
                  analogWrite(enA, Speed);
                  analogWrite(enB, Speed);
                
                  Stop();
                }
                
                void loop() {
                  s2 = analogRead(ir_F);
                
                  Serial.print("Sensor Frontal (s2): ");
                  Serial.print(s2);
                  Serial.print(" | Limite: ");
                  Serial.println(threshold);
                
                  if (s2 < threshold) {
                    Serial.println("!!! FOGO DETECTADO FOCALIZADO! AVANÇANDO E EXTINTO !!!");
                    
                    forword();
                    digitalWrite(pump, HIGH); // LIGA A BOMBA D'ÁGUA
                    
                  } else {
                    Serial.println("Nenhum fogo frontal detectado. Parado.");
                    
                    Stop();
                    digitalWrite(pump, LOW); // DESLIGA A BOMBA
                  }
                
                  delay(100);
                }
                
                void forword() {
                  digitalWrite(in1, HIGH);
                  digitalWrite(in2, LOW);
                  digitalWrite(in3, HIGH);
                  digitalWrite(in4, LOW);
                }
                
                void backword() {
                  digitalWrite(in1, LOW);
                  digitalWrite(in2, HIGH);
                  digitalWrite(in3, LOW);
                  digitalWrite(in4, HIGH);
                }
                
                void turnRight() {
                  digitalWrite(in1, HIGH);
                  digitalWrite(in2, LOW);
                  digitalWrite(in3, LOW);
                  digitalWrite(in4, HIGH);
                }
                
                void turnLeft() {
                  digitalWrite(in1, LOW);
                  digitalWrite(in2, HIGH);
                  digitalWrite(in3, HIGH);
                  digitalWrite(in4, LOW);
                }
                
                void Stop() {
                  digitalWrite(in1, LOW);
                  digitalWrite(in2, LOW);
                  digitalWrite(in3, LOW);
                  digitalWrite(in4, LOW);
                }
            </pre>
        </div>

        <h2>Vídeo de demonstração</h2>
        <p>Vídeo mostrando o robô encontrando o foco de calor e realizando o disparo de água de forma autônoma.</p>

        <iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/34d_qgFo23s?si=1JErgvlkWs0pId41"
            title="YouTube video player" frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

        <h2>2. Problemas enfrentados e soluções</h2>
        <ul>
            <li> Erros de montagem que ocasionaram em curtos no circuito</li>
            <li>Certos componentes comprados que chegaram com defeito
            </li>
            <li>Falta de conhecimento prévio na montagem do circuito, que acarretou em retrabalho e estresse</li>
        </ul>

        <h2>3. Lições aprendidas</h2>
        <ul>
            <li>Planejamento da arquitetura de hardware antes da montagem;</li>
            <li>Cuidado com distribuição de peso em robôs móveis;</li>
            <li>Valor de documentar cada etapa com fotos, esquemas e versões de código.</li>
        </ul>
    </main>

    <script src="./assets/js/tema.js"></script>
</body>

</html>